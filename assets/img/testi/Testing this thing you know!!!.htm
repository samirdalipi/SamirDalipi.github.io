
<!-- saved from url=(0044)file:///Users/samirdalipi/Desktop/index.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		
		<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
		<meta name="robots" content="all,index,follow">

		<title>Testing this thing you know!!!</title>
		<meta name="description" content="Learn how to collect the values of selected checkboxes in a JavaScript array">

		<style>
		  @import url('https://fonts.googleapis.com/css?family=Open+Sans:400,600,700');

			*, *:before, *:after { margin: 0; padding: 0; box-sizing: border-box; }
			body { background: #2F2556; color: #B9B5C7; font: 14px 'Open Sans', sans-serif; }

			/* You can safely remove the next two lines */
			.top { padding-right: 20px; background: #261F41; text-align: right; }
			a { color: rgba(255,255,255,0.6); text-transform: uppercase; text-decoration: none; line-height: 42px; }

			h1 { padding: 60px 0; font-weight: 400; text-align: center; }
      h2 { padding-bottom: 10px; color: #fff; font-weight: 600; }

		  form { margin: 0 auto 40px; padding: 0 20px; max-width: 400px; }
      form input[type="checkbox"] { margin: 10px 2px 0 0; }
      form input[type="submit"] { margin-top: 20px; padding: 10px 30px; background: #4EBD79; color: #fff; font-size: 18px; text-transform: uppercase; line-height: 24px; cursor: pointer; border: 0; }
  	</style>
  </head>
  <body>
    
    <div class="top">
			<a href="file:///Users/samirdalipi/Desktop/index.html#">Shko mbrapa</a>
		</div>

		<h1><a>Prova</a></h1>

    <form action="file:///Users/samirdalipi/Desktop/index.html" method="post">
      <h2>Prova:</h2>
      <label><input type="checkbox" name="vehicles[]" value="Pergjigja1"> Pergjigja 1 </label><br>
      <label><input type="checkbox" name="vehicles[]" value="Pergjigja2"> Pergjigja 2 </label><br>
      <label><input type="checkbox" name="vehicles[]" value="Pergjigja3"> Pergjigja 3 </label><br>
      <label><input type="checkbox" name="vehicles[]" value="Pergjigja4"> Pergjigja 4 </label><br>
      <label><input type="checkbox" name="vehicles[]" value="Pergjigja5"> Pergjigja 5 </label><br>
      <input type="submit" value="Submit">
    </form>
    
    <script type="text/javascript" src="./Testing this thing you know!!!_files/jquery-1.12.4.min.js"></script>

    <script>
      (function($) {

        "use_strict";

        // This array will store the values of the "checked" vehicle checkboxes
        var cboxArray = [];
              
        // Check if the vehicle value has already been added to the array and if not - add it
        function itemExistsChecker(cboxValue) {
                
          var len = cboxArray.length;
                
          if (len > 0) {
            for (var i = 0; i < len; i++) {
              if (cboxArray[i] == cboxValue) {
                return true;
              }
            }
          }
                
          cboxArray.push(cboxValue);
        } 
              
        $('input[type="checkbox"]').each(function() {
                
          var cboxValue = $(this).val();
          var cboxChecked = localStorage.getItem(cboxValue) == 'true' ? true : false;
                
          // On page load check if any of the checkboxes has previously been selected and mark it as "checked"
          if (cboxChecked) {

            $(this).prop('checked', true);
            itemExistsChecker(cboxValue);

          }
              
          // On checkbox change add/remove the vehicle value from the array based on the choice
          $(this).change(function() {
            
            localStorage.setItem(cboxValue, $(this).is(':checked'));
                  
            if ($(this).is(':checked')) {

              itemExistsChecker(cboxValue);

            } else {

              // Delete the vehicle value from the array if its checkbox is unchecked
              var cboxValueIndex = cboxArray.indexOf(cboxValue);
              
              if (cboxValueIndex >= 0) {
                cboxArray.splice( cboxValueIndex, 1 );
              }
                    
            }
                  
            console.log(cboxArray);
                  
          });

        });
              
        console.log(cboxArray);
              
      })(jQuery);
    </script>
  
</body></html>